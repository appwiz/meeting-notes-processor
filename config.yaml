# Webhook Daemon Configuration for Separated Repositories

# HTTP Server Settings
server:
  host: 127.0.0.1
  port: 9876

# Directory Settings
# Path to the data repository (meeting-notes)
data_repo: ../meeting-notes2

# Git Settings
git:
  auto_commit: true
  auto_push: true
  repository_url: "github.com/ewilderj/meeting-notes.git"  # Data repository URL
  commit_message_template: "Add transcript: {title}"
  branch: main
  remote: origin

# Phase 5: Always-on agent/daemon options
# If the data repo directory doesn't exist yet, it is cloned automatically.

# Keep the local data repo up to date.
sync:
  enabled: true
  on_startup: true
  before_accepting_webhooks: true
  poll_interval_seconds: 0
  ff_only: true

# Optional: trigger a workflow_dispatch in the data repo.
github:
  workflow_dispatch:
    enabled: true
    repo: "ewilderj/meeting-notes"
    workflow: "process-transcripts.yml"
    ref: "main"
    inputs: {}

# Optional: run a command when `git pull` brings in new commits.
hooks:
  on_new_commits:
    enabled: false
    command: "uv run run_summarization.py --git"
    working_directory: "."
    timeout_seconds: 600
